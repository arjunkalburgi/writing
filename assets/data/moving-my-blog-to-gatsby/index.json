{"hash":"382a56b786d5da5d1cba56531bc196f647380aa4","data":{"post":{"id":"5f5197a08e0f68e88fe506873189eb79","title":"Moving my blog to Gatsby","content":"<blockquote>\n<p>After seeing a shift in the industry from Medium, it's time I leave as well and host my blog on my own site.</p>\n</blockquote>\n<p>This shouldn't be too bad of a process, I just need to convert my Medium posts to markdown, set up a Gatsby blog, host on Github and do some styling.</p>\n<h3 id=\"convert-to-markdown\"><a href=\"#convert-to-markdown\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Convert to Markdown</h3>\n<p>Taking the help of <a href=\"https://www.gautamdhameja.com/medium-to-markdown-converter/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this blog post</a>, I used medium-2-md to export and convert all my Medium posts to markdown. </p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">medium-2-md convertLocal medium-export/posts -df</code></pre></div>\n<p>This gave me a large list of markdown files that looked like <code class=\"language-text\">2017-04-09_Security-Review--UX-of-Canadian-banking-applications-53aa77dd2cf4.md</code>. </p>\n<h3 id=\"set-up-gatsby-blog\"><a href=\"#set-up-gatsby-blog\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Set Up Gatsby Blog</h3>\n<p>Gatsby's got a <a href=\"https://github.com/gatsbyjs/gatsby-starter-blog\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">blog-starter</a> repo, which was quick to clone and get up and running.</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 590 349' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-36b9cdc444c17b26a0a8b4135fe5e519'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-36b9cdc444c17b26a0a8b4135fe5e519)' width='590' height='349' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAmCAIAAAD7pgrOAAAACXBIWXMAAAsSAAALEgHS3X78AAAGF0lEQVRYw%2b1YaWwUVRznux%2bMAQsmxi8SjmgoluX6QAzRQDmCYkRtFdstXyhQGqhQ2nAoCAQrmKbEEFHwgFgQk9KDaqHutt12KwsCe3XvnZ3Z2Xt3Znb2nJ3D/%2b7SjRiEtrMtbOI/L2/fvDf73vu9//F%2b/5mmt/cn42wiESdJMhgMURQFNYZhbrfH7w8kEgmWTY1Lko8UhmFSE5JYLEYQJI67aIqMx%2bORSCQajVFhcpoFH04xPACArnA4DDUg8Xl9wUCQJAl49dEbAoQwNdTwZmJUcv25zn%2bNjld4nhcEHtATJMUk4/AIx8qyHAxNw4l7AgzynDAeycyYT3nohNlOlmVRFLXZ7CiKOZ1OqOERywiKOSYIIDe72%2bW%2beOGi2WRWKpVarXZQobje04PjOKx04acLXZ2dZrMFRC6Tq9Vqk8nkQJDxLuH1ehcWFxcvWDBv0evr1781Z/bLM6bPeGHWrJlFM4uKiiYOgOPSf1HdVNXurK3dubO8rHzHjpoPy8vLyso2vr3xaltblVRaWVEhrZRWflzRsK%2bhskIK7/xy%2bXLuv2MEQBCEXC7T6bQarbavv39goFejVtxS/T6i/eP8N8fFagB8pr%2bv/%2b7du9G0V0XBi8B5BhWD4AA0TUMPnB8RCoHvkiQECAoaE1hCMahsv9rR3dV9sG73JzXVIzqlUT/U9svZttavJw4ATBNq2P2ikpLqrdXbq7dVVUpPt7Rkh/LiJNlJgsHArtq6tWvWr1q9%2bnyd9L2SBc88%2b5xEsnS5ZOnz02eI1YDP5%2bvs6FCpVAMDA6dOngK7h044ZhgFO8nWuQb/oIxxCY/bvWTZstIVKxrf2fjt1s0bJAs3LZaslCwpLV03f%2b7ciQOYAskCwHBcMm/%2brxVSS%2bMBeU3t8bWlnRWbT659c83i4pJXZ4sFwLPMcE%2b7D3dAZHOkBTUajFCggoDjxFAXRCQsHfxQh8PtwuEXIhRiR0Kh0FhNiAgM9XaYZD19rT/e7mq/0txcv2X77rqTe0%2b0bzncKtaEvChypH7vsOw6nJNGrbFYrIYRQ7oYjDqcvIORf6Hkn3biNkreQSmdK6xCCI0rDFccXK5jXCiRiCSFZJAIdrW3yW5qWs5efL%2bqftfpvi6T0K1jxWoALDtIRZhU2tCzd37W6MGPGU5IsFD4JNSckMwWNl3GekZC%2boySqajy1sBHm7cdPHBkaHD4089OHGg4dLDpe7PTD6OiTSijB360TIYPUHRoT8Oe2fOWv/tB1aVLV7bV7G2oqz90tFmm1GDeUAE4cTwR%2b%2bHnS3PmvPbiS/NfWbRq3ZpNS5es3Nd45MyZc29sqBLjA%2bkaD6f6kagSjV4zkHIr1WumZBYqkeIyqz9eHm9EggAEV3bj2v79jYePHTv2ZXPnldampqYvvmo5%2b925z48fFQEgU5ORmMUVcHgJiy/qj/G%2bKIeFWT7fegDuObom3Cd8bn3YttgoRJGk2WjwuHAP7gz5fQGvB4rb7fb7/MDdgerhTtzj8bjuixuYBXB1eMHr8QHhA5ow9uVyOss1IFiIBQAMR6PRms1mvd6g0eh0Or1arTUaTTqtTqvV6fV6TUbgCdjovXvqERD9CLynVmswzDlGVvffe%2bDyEEaZZDIej0ENMTSdvWVyrmzuksvR/pmIMaMicvd5AsALYPIcfz%2bMpqCd6ZyqMMWJjUIoyfxmDCuQiNxKy63hXgsls4bpJCdMwrUwKRqg6QiKg0v6QhTNjSpkCi8K0VGIIEhwS%2bBtdrsdGBw4KJA2BHHYbDZIIIG0QUoJQ1arFdpA9aANOSawO2BNgUDwyWsgQkdgK5Bx2%2byIfsRgtdqQDAAEQaAf2CkM2Kw2AGBPC2IymSF6cqPy5AE8OB/3iGCVzeDub5p/anwgxnCuMOOLpDw0A41wgp2Mjy6TGIVcFNNtIIfRiAKhb5gpJJTMDQlPfRRKb5MOUy4M8brxGE09CbqajzCaziYxJ/CcggQA1CD7/TQajaa/rkZiRJxNpPiCAQCEJ8szQQmQwttd/pvOmJdmpsYT8h1GC9GEhIekXoUGoOA18D8AcQBchLqwAdj9Qyk2HkuG4gxZaIWCbf8Nkz8kDTq4sXgAAAAASUVORK5CYII=' /%3e%3c/svg%3e\" width=\"590\" alt=\"initdeploy\" data-srcset=\"/assets/static/initdeploy.be1c96a.4b88b012f4bf7635b0334df5de5a0280.png 590w\" data-sizes=\"(max-width: 590px) 100vw, 590px\" data-src=\"/assets/static/initdeploy.be1c96a.4b88b012f4bf7635b0334df5de5a0280.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/initdeploy.be1c96a.4b88b012f4bf7635b0334df5de5a0280.png\" width=\"590\" alt=\"initdeploy\"></noscript></p>\n<p>Then using some bash scripts to format my markdown posts to the file structure Gatsby expects. </p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># make the new directory</span>\n$ <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">f</span> <span class=\"token keyword\">in</span> *.md <span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token function\">mkdir</span> -p <span class=\"token punctuation\">..</span>/blog/<span class=\"token variable\">$f</span> <span class=\"token punctuation\">;</span> <span class=\"token function\">cp</span> <span class=\"token variable\">$f</span> <span class=\"token punctuation\">..</span>/blog/<span class=\"token variable\">$f</span>/index.md <span class=\"token punctuation\">;</span> <span class=\"token keyword\">done</span> \n\n<span class=\"token comment\"># remove the date from the beginning of the directory name</span>\n$ <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">d</span> <span class=\"token keyword\">in</span> *.md <span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token function\">mv</span> <span class=\"token variable\">$d</span> <span class=\"token variable\">${d<span class=\"token operator\">#</span>*_}</span> <span class=\"token punctuation\">;</span> <span class=\"token keyword\">done</span> \n\n<span class=\"token comment\"># remove the '.md' from the end of the directory name</span>\n$ <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">d</span> <span class=\"token keyword\">in</span> *.md <span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token function\">mv</span> <span class=\"token variable\">$d</span> <span class=\"token variable\">${d<span class=\"token operator\">%</span>-*.md}</span> <span class=\"token punctuation\">;</span> <span class=\"token keyword\">done</span> \n\n<span class=\"token comment\"># lower case all characters`</span>\n$ <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">d</span> <span class=\"token keyword\">in</span> * <span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token function\">mv</span> <span class=\"token variable\">$d</span> <span class=\"token variable\">${d<span class=\"token operator\">,,</span>}</span> <span class=\"token punctuation\">;</span> <span class=\"token keyword\">done</span> </code></pre></div>\n<p>Going from <code class=\"language-text\">2017-04-09_Security-Review--UX-of-Canadian-banking-applications-53aa77dd2cf4.md</code>, to <code class=\"language-text\">security-review--ux-of-canadian-banking-applications</code>. </p>\n<p>This helps because now the url for my posts will look like: <code class=\"language-text\">www.arjunkalburgi.com/writing/security-review--ux-of-canadian-banking-applications</code></p>\n<p>Now my blog is ready to go ðŸ˜ƒ. Thank you to my bff <a href=\"https://twitter.com/afontaine_ca\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Andrew Fontaine</a> for helping me out with this part.</p>\n<h3 id=\"host-on-github-pages\"><a href=\"#host-on-github-pages\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Host on Github Pages</h3>\n<p>Thanks to Gatsby's <a href=\"https://www.gatsbyjs.org/docs/how-gatsby-works-with-github-pages/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">gh-pages hosting tutorial</a> I was able to get this done pretty easily. Just needed to make a repo in github, set the <code class=\"language-text\">origin</code> in my local repo, follow the tutorial and then run <code class=\"language-text\">npm run deploy</code> . And I'm up!</p>\n<p>Without CI, every time I push to Github I'll need to run this command. This is okay for now but I'll probably look to change this later. </p>\n<h3 id=\"styling\"><a href=\"#styling\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Styling</h3>\n<p>Honestly I could spend all day doing this, but for now I just want something quick. I'll use a lot of the CSS I already have from my <a href=\"www.arjunkalburgi.com\">website</a>. But for the blog posts, for now I'll just copy what Varun's got on <a href=\"varun.ca/writing\">his site</a>, it's gorgeous.</p>\n<p>Despite the simplicity of this task, it was actually quite time consuming to style the blog. Based on my commit history, it was the markdown posts that took forever to style. For some reason, Gatsby does not have this built into their default style for their starter package I used, making me wish I knew to use a theme'd starter from the beginning (there's no way to change your theme afterwards.) </p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 2560 1514' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-ba9d77e396a7a4d3b74e1852451b1b8b'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-ba9d77e396a7a4d3b74e1852451b1b8b)' width='2560' height='1514' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAmCAYAAAB0xJ2ZAAAACXBIWXMAABYlAAAWJQFJUiTwAAAE70lEQVRo3uVa3U/qShDn/3/2xcT4YPTBGGNifPHZXD9yz41oEPlooZTy/VFogRYQ5u5vZDiVI1fwiC3nbjKZ3dku7Ex3Z34zEGu1WjQYDMjzfGq12tRsNqnT6VK9Xidd18mySlSr1VkOardfn8E6cDw3HA5pPB5Hhl5eXlinSqVCvtKr2%2b2SlitQv9Pivbquy/OQx9CBcDQaKSN41O/3mfd6PWWIDj%2bMPuTCpS/k%2b0P%2bjOjQSO3Jn%2b3NZ326jktD32M9IcNz4DFSbTqdMn22yfqokextvs/AWHhsUfHgA8s%2b8BeiaLY3yi95wbFVLYn2ou7Xkq%2bK7Cn4iGLvHZXFo42W1XS6jz/MKfGUpL9//EM3t3fcX/VNRK19aADh%2bWKJNKNIhlWhtG5QRnnVnFmilJajvGlxdGg0GhwVEB3QR6T4r8/fHgNMJtSxbaVYg2y7TbZStl6rsaxWrSpl66xwTcmqaiwcsq02wFdt/I%2b4Al8Zjv53BoiyMda6AkFFJsovCJcmsvfir8xtlQGCc4COHyHBYFumcNSuwlIDBJVCgnF0dES7u7t0fn5Oe3t7dHJyQhcXF3R6esqy/f19nr%2b8vGTZ2dkZHR4e0sHBAe3s7NDx8THnFVt5ApBd5fN5isfjlMlkmN/d3XG4e35%2bZo7M6%2bHhgTRN4xAIDGBZFhUKBTJNkxKJBCciq/qU7zLUxwaY/jzSYeH40K4AWm/skdFrULdtz2sAQH144xgL%2bgPHnIAgm4FT8w3Jelkj6BEyPI950OJJ%2bYqM9dMGGE7G5IwGnAgN1caCeTd8w2gmA5eCBPJsmRNZsB8sXATXYjx%2bJ%2bHa5GlYyQfgGkj1B2%2bsXC7zm5Kx4H4Q3r7jOHMZToS8cawTDr%2bAUyRj8RmQYw3kcpJCOwHzGD6dsDODg0un08wNw2DK5XLsCDGfzWZ5LHKMUVZDBSlYWQLBSEESGcpUUmnCGBWrUAywKMPGhPBWsDnZKEpnwc2LQpCDouwQY6uEnN/dwFfB528/Aesqv40J0cpACEAG4Of%2b/p4eHx/p6uqK/rq%2bpuuba7q5vaWWCmmL%2bcA2JFAr5wK414jbctdxt%2b1WmzqKXFvd8/HmgFLoYRC8VCpRsVjkkAZeMi3Sm2V67Jcp7hTpR8egZLfEoQueH%2bEMUQBjRAiEOKxDdAAHIVqAYx4ccBtQG9%2bF5yBHTT8SJwAKIdxBKUSBsQIv/aFHrWGPGr5LFa9DXQWYAGQE3ATBksgBkjBepOAa%2bfECXCB46AbAhvqDPsdl%2bIQw8oJNRILfjgLTAG1jcrT6CRj65Pke88%2bQp64LaOAP1iNvQKPxKJwTEJzr9XuU1bOUSCaY63mdckaOUpkUjzNahvKFPCWfkyxLZ9MsB8ecWTLJtExyeg51nM5q5KpI49hsiNANgDfRdRUUdrqvXJHjOvP%2bfCzzMw5FeE4pDnL77nrUc/kEhWaATVSGowSGvuWHkT/CCVYr1TmAkaoPsAEADvJ6gBcAGYAb9DEHDgIwQgqNdUbBoLyhAE82Q1pOY79RtBQYMgs8NkyDCsUC%2b5i23X5TmgstHQbHBp%2bST5TVsuzcQHB2qXSKFdJ0jQnzcHqQpzOvjrBcKc8BEf8dB9EEuGJWG4B/AeLDHPocNdRYqkObygTXjgJwcuDI%2baXAwTWA2ZwoJHNwYPI3lagWR7/NB0SxFoD2LwS0Uk9o2iapAAAAAElFTkSuQmCC' /%3e%3c/svg%3e\" width=\"2560\" alt=\"The result\" data-srcset=\"/assets/static/result.82a2fbd.7e1166eff48865b4d86d1c8057391413.png 480w, /assets/static/result.cbab2cf.7e1166eff48865b4d86d1c8057391413.png 1024w, /assets/static/result.2665e34.7e1166eff48865b4d86d1c8057391413.png 1920w, /assets/static/result.42db587.7e1166eff48865b4d86d1c8057391413.png 2560w\" data-sizes=\"(max-width: 2560px) 100vw, 2560px\" data-src=\"/assets/static/result.42db587.7e1166eff48865b4d86d1c8057391413.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/result.42db587.7e1166eff48865b4d86d1c8057391413.png\" width=\"2560\" alt=\"The result\"></noscript></p>\n<h3 id=\"results\"><a href=\"#results\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Results</h3>\n<p>Pretty happy with the public facing results, but on the internal there's a couple things I lose. </p>\n<p>One is that I don't have the nice editor Medium provides. I installed <a href=\"https://typora.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Typora</a> to fix this (using it right now). It lets me paste images into the markdown files and helps me out with presenting my images as well. </p>\n","date":"September 15, 2019","timeToRead":2,"description":"After seeing a shift in the industry from Medium, it's time I  leave as well and host my blog on my own site.","cover":null}},"context":{}}