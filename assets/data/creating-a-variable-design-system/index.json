{"hash":"315774a255bf4fca64ab56eea8dd65eed07be9f9","data":{"post":{"id":"e6c458c221db6af936942c4dc5326e5c","title":"Creating a Variable Design System","content":"<blockquote>\n<p>The brief for this project is to create an Ionic app that can be re-themed based on different brands.</p>\n</blockquote>\n<p>Should be a fun little project indeed. The idea is to expand on Ionic Framework's existing <code class=\"language-text\">variables.scss</code> to feature colours, fonts, opacities, shadows, radii and maybe even spacing. Then in a build process, reconfigure file/(s) so that the app is built with different variables.</p>\n<h3 id=\"step-1-design-tokens\"><a href=\"#step-1-design-tokens\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Step 1: Design Tokens</h3>\n<p>I found <a href=\"https://www.lightningdesignsystem.com/design-tokens\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this great guideline</a> from Salesforce that features all their design tokens. To be frank, it's a lot and I'm not sure I need it all. There's so much just in colours alone that I decided to look at some brands as well as my app so I could determine what would be necessary and not.</p>\n<ol>\n<li>\n<p>Colours\nMain brand colour</p>\n<p>Alt brand colour</p>\n<p>Dark (Black equivalent)</p>\n<p>Light (White equivalent)</p>\n<p>Main brand colour accessible with dark</p>\n<p>Main brand colour accessible with light</p>\n<p>Main brand colour accessible with alt</p>\n<p>Alt brand colour accessible with dark</p>\n<p>Alt brand colour accessible with light</p>\n<p>Alt brand colour accessible with main</p>\n<p>Light background colour</p>\n<p>Gray text accessible on white</p>\n<p>Gray text accessible on light background colour</p>\n<p>Gray text accessible on Alt brand colour accessible with main</p>\n</li>\n<li>Custom button style</li>\n<li>Border radius style</li>\n<li>Side spacing</li>\n<li>Font/sizes:\nsmallbold\nsmall\nregular\nsubtitle\ntitle\nheader</li>\n<li>Shadows\nheader shadow (global.scss:177)\nbutton shadow</li>\n</ol>\n<p>There are some other properties I could encorporate, but I'll start with these 6 tokens for now.</p>\n<h3 id=\"step-2-using-the-tokens\"><a href=\"#step-2-using-the-tokens\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Step 2: Using the Tokens</h3>\n<p>Now that I have my tokens, I need to update my app to use them. From there I'll be able to change the tokens for each brand, and apply them to the app.</p>\n<p>This is actually the most difficult/time-consuming part of the process because it involved looking into each and every existing colour variable reference to ensure proper accessibility. The other tokens also required individual checking to find values that were not made into variables. It took a couple days to complete.</p>\n<p>As I did this I also made a custom <code class=\"language-text\">.scss</code> file for each theme where I could keep new styles that are specific to a certain theme (adjusted layouts or button configurations).</p>\n<h3 id=\"step-3-repo-re-organization\"><a href=\"#step-3-repo-re-organization\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Step 3: Repo Re-Organization</h3>\n<p>I'll be using some npm scripts in order to move around finds before running my code. This was probably not the best method (that'd be using Gulp), but the easiest to implement. </p>\n<p>Here is an example of my <code class=\"language-text\">package.json</code>'s npm scripts: </p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n   <span class=\"token property\">\"serve:generic\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm run generic &amp;&amp; ionic serve\"</span><span class=\"token punctuation\">,</span>\n   <span class=\"token property\">\"generic\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm run generic:retailer &amp;&amp; npm run generic:assets &amp;&amp; npm run generic:theme\"</span><span class=\"token punctuation\">,</span>\n   <span class=\"token property\">\"generic:retailer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"copyfiles -au 3 \\\".retailer/generic/app/**/*\\\" src/app\"</span><span class=\"token punctuation\">,</span>\n   <span class=\"token property\">\"generic:assets\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"copyfiles -au 3 \\\".retailer/generic/assets/**/*\\\" src/assets\"</span><span class=\"token punctuation\">,</span>\n   <span class=\"token property\">\"generic:theme\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"copyfiles -au 2 .retailer/generic/theme/*.scss src\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>As you can see all I'm doing is moving files from a hidden folder (so it doesn't get included in build) and using <a href=\"https://github.com/calvinmetcalf/copyfiles\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">copyfiles</a> to move and replace the files.</p>\n<p>So now all I need to do to change my app's theme is to run <code class=\"language-text\">npm run serve:theme_name</code> and it'll completely change the app to a custom stream I've created.</p>\n<h3 id=\"results-and-comments\"><a href=\"#results-and-comments\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Results and Comments</h3>\n<p>Using this method for a couple weeks has been awesome. The custom <code class=\"language-text\">.scss</code> file has come in handy several times and the theme switching has worked will. </p>\n<p>The biggest problem I've had however is maintainence and new features. Making edits to sections of the copied files means making edits to the files of each theme instance, it adds up to a lot of edits. It requires careful attention to ensure that the new edits/features work for each theme - something that's a bit unruly in practice but is managable when not rushing.</p>\n<p>Overall this is a really cool way to extend a single codebase for multiple clients.</p>\n","date":"January 18, 2020","timeToRead":3,"cover":{"type":"image","mimeType":"image/jpeg","src":"/writing/assets/static/arjun2020.24c1599.13bcd529ed3aac3554657e40c24e5ddc.jpg","size":{"width":1986,"height":1866},"sizes":"(max-width: 1986px) 100vw, 1986px","srcset":["/writing/assets/static/arjun2020.1b91758.13bcd529ed3aac3554657e40c24e5ddc.jpg 480w","/writing/assets/static/arjun2020.3df3210.13bcd529ed3aac3554657e40c24e5ddc.jpg 1024w","/writing/assets/static/arjun2020.24c1599.13bcd529ed3aac3554657e40c24e5ddc.jpg 1986w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1986 1866' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-e212f8f8cc6e9c4d4112e82f36937b54'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-e212f8f8cc6e9c4d4112e82f36937b54)' width='1986' height='1866' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAA8AEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAAAwQFBgcIAgEA/8QAOBAAAgEDAgQDBQUHBQAAAAAAAQIDAAQRBSEGEjFBEyJRBxQjMoFCYXGhsRUWJCZSYpEzQ5Lw8f/EABgBAAMBAQAAAAAAAAAAAAAAAAECAwQF/8QAIxEAAgEEAQMFAAAAAAAAAAAAAQIAAxESMSEEE0EUUVJhgf/aAAwDAQACEQMRAD8A0umKRXMaid2I6n0zRluYVPzijRsrnmXcHvVUexmepSyAETxW4IBxSlLcdlJ%2blGLJGhZyFVQSSegA71lD2h%2b0zU%2bMdbujw/8AwmiWpMCXcty8W/8AUvKRucehohixhWkF0Jq4RY%2bzXxR8%2bUKBWdvZJxxxTpl3aWGuEarpN2wSG8glMwjY7AEncCtIUjXUygXxBqhByTRK8JwMnpXIkU9GFJGAtKf9415ZyVtoyhYjqQaf9P4xis4IrW/8OG6QcrqT0P8A5SThrWJtVtpZZbV4JI5DGyt60e1uILzUr%2bGSx5ZLaQKzuow%2bRsR/3tWhgTvmSBtqD42420x%2bDdYit7yBrma2eCMRyAsGcFe3Tqd%2b1UM9ppaaZHaSyyWyQpljb%2bQ83T6%2blX3rWi6VeaRewCwtYpZIW5ZBGFKtjIOR94rOMssaalNbTOpUHly2N%2b4O9SN1BAmyjje5jhoJktLZUs3vIJIpkltrpnKIXB7kDcdPXc9MVqu34l0sWkBudVsRMY1L5lUeYgZ27b1mnQtAn1cPbx6jqNy1xNCZFuJldWPNgFMY5QATnA6DtWhY%2bFOFxD8fR7J/CARppYx5yB1JpBvmP1GhbcX3/E2nw6dcz2l5a3c8cbMkEUgLSMBsoGdyah6e0u%2bH%2brwxqI/BKUxzcAWWr262unWYvUlXw5IYD8Ns7Nnpt60533tA0S1ZkDSTuDjljjzmqBD8SZjyHvKw0/ULZPepIJL2OF3JLNJ8zDqR9BTFe8a6fbT3d0gSUupePmU8z46c5z1J2H3VXus6zeTXt1Iszc/nRcHAAJIwKj6TCW35ZWCggbk9BXR7SLuZQWMlXGHtF1DVdIn060CQRNgyeEpXxSDnG5Jx%2bpGahh11b8K9/CWdtvFjGCT/AHD1oktr4ZUnOR12ORvtmhPpGZ1l%2bIo7qpBDffioVaeQ4EvScp5k54c1hNFgM2i37x38rJDDKWyFBBLBcggEgdSP8ZqcSa9q/EHD05OtTXoyPEtowFZRnclBufxGRVUzxLbPa%2b7IjTKvOm3myQQDtsNiaV6PcTabcQW6SETKrXDlTgqwGwz2qlPp0VbEfsWpVZ2uJKRlTzI7K3YgmukknWTmWV%2bbPXNOVhP%2b27SO5k5IGkPJK/2ecbF8ds9f80GfT5bedopWKyI2GBHSpYkaMfIHYlYXsqx3F2JGwqSMc/dzGmnU5Fa8t4Q3w3kQ7f09f0rziaRvHud%2bshz/AMjQbsfzAq9o4l5R9BSVKhYWjKgBksXwpfeGZ8yu4IH9pO1dR5jl8mCrDP4U2I5DgjGdv1FHJLKqknB64qvqSBrmDsAmKpb0IZGhRVkb5nG5wOwpPo5aW6u52z5UEeT3YnJ/LFBlARTyjpSvRFC6TzD5nLMx9TSq7MMiYSoU4iT/AEGLHAl1Iuf94j6Ur0SWXUtLt7m5cvKfKWPfGw/Kl3CUaP7H7%2bRkUuY7o82NxuaScGIP3egHo7D86klQm4%2b4HUT/2Q==' /%3e%3c/svg%3e"},"description":"The brief for this project is to create an Ionic app that can be re-themed based on different brands."}},"context":{}}