{"hash":"315774a255bf4fca64ab56eea8dd65eed07be9f9","data":{"post":{"id":"4bdfbdde496f9aaa1e0fd7588dcaea67","title":"I’m more lazy than you — backends with Google Spreadsheets","content":"<p>As most developers I’ve gone on a journey of how I can make websites faster and easier. I’ve experimented with WordPress, <a href=\"https://html5up.net\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">HTML5UP</a>, Github Pages, and now I’ve got a new tool.</p>\n<p>Say hello to <a href=\"https://sheety.co/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Sheety</a>, the shitty database API (as far as databases go) that’s also the best at being fast and easy.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*ppV1HxVjysDSUgBcaL3HbQ.png\"></p>\n<p>Sheety was made by <a href=\"http://twitter.com/@phillipcaudell\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Phillip Caudell</a> “because he hates making backends” and honestly it’s the greatest thing ever for front end developers like me.</p>\n<p>Let’s look at an example. I’ve rebuilt my old project, <a href=\"https://medium.com/arjunkalburgi/theradlist-a-new-side-product-e07bf0d3fdd8\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">TheRadList</a>, to use Sheety so that my friends can easily edit the restaurant content on the website.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*A8M_qmhSM5Lf3TZTr4LZjA.jpeg\" alt=\"TheRadList with data from Sheety\"></p>\n<p>TheRadList with data from Sheety</p>\n<h2 id=\"the-spreadsheet\"><a href=\"#the-spreadsheet\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>The Spreadsheet</h2>\n<p>I’ve moved all the data from a JSON var in the JS of TheRadList (yes, that’s how far I went to avoid using a backend) to this Google Spreadsheet:</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*VkNJX7cwCfKx3h7QCqwwGQ.png\"></p>\n<p>My friends have edit access to this spreadsheet and I made them a custom link to make it easier to find: <a href=\"https://theradlist.com/data\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://theradlist.com/data</a></p>\n<h2 id=\"the-api\"><a href=\"#the-api\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>The API</h2>\n<p>Putting the Google Docs Publish Link into Sheety’s API tool results in the following API link for me to use!</p>\n<blockquote>\n<p><a href=\"https://api.sheety.co/c1471c68-f293-46d9-ab4c-ca5e24e6e24e\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><em>https://api.sheety.co/c1471c68-f293-46d9-ab4c-ca5e24e6e24e</em></a></p>\n</blockquote>\n<p>With all the data as objects in a list, it’s easy for me to read via JavaScript.</p>\n<h2 id=\"the-javascript\"><a href=\"#the-javascript\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>The Javascript</h2>\n<p>I copied the example on the Sheety website to load the data from the API.</p>\n<div class=\"gridsome-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> template<span class=\"token punctuation\">;</span>    \n<span class=\"token function\">$</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n   $<span class=\"token punctuation\">.</span><span class=\"token function\">getJSON</span><span class=\"token punctuation\">(</span>  \n      <span class=\"token string\">'https://api.sheety.co/c1471c68-f293-46d9-ab4c-ca5e24e6e24e'</span><span class=\"token punctuation\">,</span>   \n      <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n         template <span class=\"token operator\">=</span> Handlebars<span class=\"token punctuation\">.</span><span class=\"token function\">compile</span><span class=\"token punctuation\">(</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#item-template'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  \n         <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#list-places'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  \n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>  \n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>It uses Handlebars to load the data into the specific <code class=\"language-text\">#item-template</code> I made and then into the <code class=\"language-text\">div</code> I need.</p>\n<h2 id=\"other-things\"><a href=\"#other-things\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Other Things</h2>\n<h4 id=\"the-filters\"><a href=\"#the-filters\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>The Filters</h4>\n<p>Unfortunately Sheety doesn’t have any endpoint logic, so I can’t retrieve specific objects or filter using the API. So instead I save the data into a variable and do simple list filter operations. Unfortunately none of the filter data is present at the moment so they all return an empty list.</p>\n<h4 id=\"nested-objects\"><a href=\"#nested-objects\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nested Objects</h4>\n<p>I did another project with Sheety where I needed to my data to have some nested objects and/or lists within the object. Sheety’s CSV style is obviously not suited for this. My solution was to create more Google Spreadsheets for the inner-data and use a <code class=\"language-text\">primary_id</code> to link all the data together. Then combine objects in JS <code class=\"language-text\">onLoad</code>. Who ever thought Database class would come in handy?</p>\n<h4 id=\"updating-data\"><a href=\"#updating-data\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Updating Data</h4>\n<p>After the Spreadsheet is updated, Google/Sheety take some time for the changes to be reflected. Sometimes it’s instant but sometimes it takes a couple minutes. I don’t recommend using it for chat apps 😂</p>\n<h2 id=\"the-results\"><a href=\"#the-results\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>The Results</h2>\n<p>Visit <a href=\"https://medium.com/arjunkalburgi/theradlist-a-new-side-product-e07bf0d3fdd8\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">TheRadList</a> today to see Sheety in action! Well it’s not that exciting, you won’t even see it, but it’s lazy and that’s what counts.</p>\n","date":"March 9, 2019","timeToRead":2,"cover":"https://cdn-images-1.medium.com/max/800/1*ppV1HxVjysDSUgBcaL3HbQ.png","description":"As most developers I’ve gone on a journey of how I can make websites faster and easier. I’ve experimented with WordPress, HTML5UP, Github…"}},"context":{}}