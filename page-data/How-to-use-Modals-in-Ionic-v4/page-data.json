{"componentChunkName":"component---src-templates-blog-post-js","path":"/how-to-use-modals-in-ionic-v4/","webpackCompilationHash":"cd79082aefc177a9cfd6","result":{"data":{"site":{"siteMetadata":{"title":"Writing","author":"Arjun Kalburgi"}},"markdownRemark":{"id":"dfc6b768-1057-554a-9e60-9f873c51294c","excerpt":"After taking much too long to figure this out myself, Iâ€™m writing a blog post about it to help the nextÂ dev. This should be easy, but the documentation for itâ€¦","html":"<blockquote>\n<p>After taking much too long to figure this out myself, Iâ€™m writing a blog post about it to help the nextÂ dev.</p>\n</blockquote>\n<p>This should be easy, but the documentation for it is a little lacking. Iâ€™ve <a href=\"https://github.com/ionic-team/ionic/pull/17944#issuecomment-522067671\">asked</a> them to update it but just in case they donâ€™t Iâ€™m writing this for your sanity.</p>\n<h3>Issue</h3>\n<p>Originally my issue was that the modal was activating too early, before the button-press to activate the modal. When I would navigate to the page that the modal should be accessed on, it would show the modal as a full page instead of the page Iâ€™ve navigated to.</p>\n<p>This solution will also help solve the <code class=\"language-text\">ERROR ERROR: &quot;Uncaught (in promise): overlay does not exist&quot;</code> when trying to dismiss the modal. Another issue that I saw people having when trying to find a solution.</p>\n<h3>Solution</h3>\n<h4>Creating a ModalÂ Page</h4>\n<p>Very basic, just run <code class=\"language-text\">ionic g page modal</code> using Ionic CLI just like you would for any other new page.</p>\n<h4>Fixing theÂ Routing</h4>\n<p>Since modal pages arenâ€™t part of your app navigation, you must remove the automatic entry for this page from your <code class=\"language-text\">app-routing-module.ts</code> file.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const routes: Routes = [\n     { path: &#39;&#39;, redirectTo: &#39;home&#39;, pathMatch: &#39;full&#39; },  \n     ...  \n     {Ìµ ÌµpÌµaÌµtÌµhÌµ:Ìµ Ìµ&#39;ÌµmÌµoÌµdÌµaÌµlÌµ&#39;Ìµ,Ìµ Ìµ  \n       lÌµoÌµaÌµdÌµCÌµhÌµiÌµlÌµdÌµrÌµeÌµnÌµ:Ìµ Ìµ&#39;Ìµ.Ìµ/ÌµmÌµoÌµdÌµaÌµlÌµ/ÌµmÌµoÌµdÌµaÌµlÌµ.ÌµmÌµoÌµdÌµuÌµlÌµeÌµ#ÌµMÌµoÌµdÌµaÌµlÌµPÌµaÌµgÌµeÌµMÌµoÌµdÌµuÌµlÌµeÌµ&#39;Ìµ Ìµ}Ìµ\n];</code></pre></div>\n<h4>Fix the Modalâ€™sÂ Module</h4>\n<p>This part is neccessary to solve the issue.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">@NgModule({  \n     declarations: \\[ **ModalPage** \\],  \n     imports: \\[ ... \\],  \n     entryComponents: \\[ **ModalPage** \\],  \n     exports: \\[ **ModalPage \\]  \n**})  \nexport class ModalPageModule {}</code></pre></div>\n<p>The documentation does not show to include the page in <code class=\"language-text\">entryComponents</code> or <code class=\"language-text\">exports</code>.</p>\n<h4>Declare the Modal forÂ Use</h4>\n<p>Now that the modalâ€™s module is ready, import it into the page you want to use it in.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">@NgModule({  \n     declarations: \\[ HomePage, **ModalPage** \\],  \n     imports: \\[ ... \\],  \n     entryComponents: \\[ **ModalPage** \\],})  \nexport class HomePageModule {}</code></pre></div>\n<p>The documentation does not show either of these! This is a big part of how the issue happens. Including the <code class=\"language-text\">ModalPage</code> in <code class=\"language-text\">imports</code> is what creates the problem (and is what I thought to do).</p>\n<h4>Create theÂ Modal</h4>\n<p>The following is exactly how the documentation explains, Iâ€™m just including it here for completionâ€™s sake.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { ModalController } from &#39;@ionic/angular&#39;;\n\nexport class **HomePage** {\n\n  constructor(private modalCtrl: ModalController) { }\n\n  async openModal() {  \n    const loadAmount = await _this_.modalCtrl.create({  \n      component: **ModalPage**  \n    });  \n    await loadAmount.present();  \n  }\n\n}</code></pre></div>\n<h4>Dismiss theÂ Modal</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { ModalController } from &#39;@ionic/angular&#39;;\n\nexport class **ModalPage** {\n\n  constructor(private modalCtrl: ModalController) { }\n\n  async close() {  \n    await _this_.modalCtrl.dismiss();  \n  }\n\n}</code></pre></div>\n<h3>Conclusion</h3>\n<p>Just like that, everything should be working perfectly. I was so relieved when I implemented these steps. Thank you to <a href=\"https://medium.com/u/706b6e4cb229\">Christian Francia</a> for providing this solution in a <a href=\"https://github.com/ionic-team/ionic/issues/17939#issuecomment-479550015\">Github issue</a>, hopefully this blog post will have a little better SEO and will be easier to find ðŸ˜ƒ</p>","frontmatter":{"title":"How to use Modals in Ionic v4","date":"August 16, 2019","description":"After taking much too long to figure this out myself, Iâ€™m writing a blog post about it to help the next dev."}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/how-to-use-modals-in-ionic-v4/","previous":{"fields":{"slug":"/learning-about-time--after-3-weeks-off/"},"frontmatter":{"title":"Learning About Time, After 3 Weeks Off"}},"next":{"fields":{"slug":"/moving-my-blog-to-gatsby/"},"frontmatter":{"title":"Moving my blog to Gatsby"}}}}}