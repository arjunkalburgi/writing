{"componentChunkName":"component---src-templates-blog-post-js","path":"/How-to-use-Modals-in-Ionic-v4/","webpackCompilationHash":"b6a91c48b674bbd3e833","result":{"data":{"site":{"siteMetadata":{"title":"Writing","author":"Arjun Kalburgi"}},"markdownRemark":{"id":"57affbd7-a73d-5a8d-9ac7-2a106fbd62fd","excerpt":"After taking much too long to figure this out myself, Iâ€™m writing a blog post about it to help the nextÂ dev. This should be easy, but the documentation for itâ€¦","html":"<blockquote>\n<p>After taking much too long to figure this out myself, Iâ€™m writing a blog post about it to help the nextÂ dev.</p>\n</blockquote>\n<p>This should be easy, but the documentation for it is a little lacking. Iâ€™ve <a href=\"https://github.com/ionic-team/ionic/pull/17944#issuecomment-522067671\">asked</a> them to update it but just in case they donâ€™t Iâ€™m writing this for your sanity.</p>\n<h3>Issue</h3>\n<p>Originally my issue was that the modal was activating too early, before the button-press to activate the modal. When I would navigate to the page that the modal should be accessed on, it would show the modal as a full page instead of the page Iâ€™ve navigated to.</p>\n<p>This solution will also help solve the <code>ERROR ERROR: \"Uncaught (in promise): overlay does not exist\"</code> when trying to dismiss the modal. Another issue that I saw people having when trying to find a solution.</p>\n<h3>Solution</h3>\n<h4>Creating a ModalÂ Page</h4>\n<p>Very basic, just run <code>ionic g page modal</code> using Ionic CLI just like you would for any other new page.</p>\n<h4>Fixing theÂ Routing</h4>\n<p>Since modal pages arenâ€™t part of your app navigation, you must remove the automatic entry for this page from your <code>app-routing-module.ts</code> file.</p>\n<pre><code>const routes: Routes = [\n     { path: '', redirectTo: 'home', pathMatch: 'full' },  \n     ...  \n     {Ìµ ÌµpÌµaÌµtÌµhÌµ:Ìµ Ìµ'ÌµmÌµoÌµdÌµaÌµlÌµ'Ìµ,Ìµ Ìµ  \n       lÌµoÌµaÌµdÌµCÌµhÌµiÌµlÌµdÌµrÌµeÌµnÌµ:Ìµ Ìµ'Ìµ.Ìµ/ÌµmÌµoÌµdÌµaÌµlÌµ/ÌµmÌµoÌµdÌµaÌµlÌµ.ÌµmÌµoÌµdÌµuÌµlÌµeÌµ#ÌµMÌµoÌµdÌµaÌµlÌµPÌµaÌµgÌµeÌµMÌµoÌµdÌµuÌµlÌµeÌµ'Ìµ Ìµ}Ìµ\n];\n</code></pre>\n<h4>Fix the Modalâ€™sÂ Module</h4>\n<p>This part is neccessary to solve the issue.</p>\n<pre><code>@NgModule({  \n     declarations: \\[ **ModalPage** \\],  \n     imports: \\[ ... \\],  \n     entryComponents: \\[ **ModalPage** \\],  \n     exports: \\[ **ModalPage \\]  \n**})  \nexport class ModalPageModule {}\n</code></pre>\n<p>The documentation does not show to include the page in <code>entryComponents</code> or <code>exports</code>.</p>\n<h4>Declare the Modal forÂ Use</h4>\n<p>Now that the modalâ€™s module is ready, import it into the page you want to use it in.</p>\n<pre><code>@NgModule({  \n     declarations: \\[ HomePage, **ModalPage** \\],  \n     imports: \\[ ... \\],  \n     entryComponents: \\[ **ModalPage** \\],})  \nexport class HomePageModule {}\n</code></pre>\n<p>The documentation does not show either of these! This is a big part of how the issue happens. Including the <code>ModalPage</code> in <code>imports</code> is what creates the problem (and is what I thought to do).</p>\n<h4>Create theÂ Modal</h4>\n<p>The following is exactly how the documentation explains, Iâ€™m just including it here for completionâ€™s sake.</p>\n<pre><code>import { ModalController } from '@ionic/angular';\n\nexport class **HomePage** {\n\n  constructor(private modalCtrl: ModalController) { }\n\n  async openModal() {  \n    const loadAmount = await _this_.modalCtrl.create({  \n      component: **ModalPage**  \n    });  \n    await loadAmount.present();  \n  }\n\n}\n</code></pre>\n<h4>Dismiss theÂ Modal</h4>\n<pre><code>import { ModalController } from '@ionic/angular';\n\nexport class **ModalPage** {\n\n  constructor(private modalCtrl: ModalController) { }\n\n  async close() {  \n    await _this_.modalCtrl.dismiss();  \n  }\n\n}\n</code></pre>\n<h3>Conclusion</h3>\n<p>Just like that, everything should be working perfectly. I was so relieved when I implemented these steps. Thank you to <a href=\"https://medium.com/u/706b6e4cb229\">Christian Francia</a> for providing this solution in a <a href=\"https://github.com/ionic-team/ionic/issues/17939#issuecomment-479550015\">Github issue</a>, hopefully this blog post will have a little better SEO and will be easier to find ðŸ˜ƒ</p>","frontmatter":{"title":"How to use Modals in Ionic v4","date":"August 16, 2019","description":"After taking much too long to figure this out myself, Iâ€™m writing a blog post about it to help the next dev."}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/How-to-use-Modals-in-Ionic-v4/","previous":{"fields":{"slug":"/Learning-About-Time--After-3-Weeks-Off/"},"frontmatter":{"title":"Learning About Time, After 3 Weeks Off"}},"next":{"fields":{"slug":"/moving-my-blog-to-gatsby/"},"frontmatter":{"title":"Moving my blog to Gatsby"}}}}}